# üéØ –®–ü–û–†–ê - –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ 5 (ML –Ω–∞ Android)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
app/src/main/
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îî‚îÄ‚îÄ model.tflite                    ‚Üê ML-–º–æ–¥–µ–ª—å
‚îú‚îÄ‚îÄ java/dev/matsyshyn/lab5ml/
‚îÇ   ‚îú‚îÄ‚îÄ MainActivity.kt                 ‚Üê –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ ServerActivity.kt               ‚Üê –°–µ—Ä–≤–µ—Ä (—Å–µ–Ω—Å–æ—Ä–∏ + Bluetooth)
‚îÇ   ‚îú‚îÄ‚îÄ ClientActivity.kt               ‚Üê –ö–ª—ñ—î–Ω—Ç (–≤–∫–ª–∞–¥–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ CollectorActivity.kt            ‚Üê –ó–±—ñ—Ä –¥–∞–Ω–∏—Ö (—Å—Ç–∞—Ä–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ CollectorFragment.kt            ‚Üê –ó–±—ñ—Ä –¥–∞–Ω–∏—Ö (—Ñ—Ä–∞–≥–º–µ–Ω—Ç)
‚îÇ   ‚îú‚îÄ‚îÄ PredictionFragment.kt           ‚Üê –ü—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è (—Ñ—Ä–∞–≥–º–µ–Ω—Ç)
‚îÇ   ‚îú‚îÄ‚îÄ ActivityClassifier.kt            ‚Üê ML-–∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ BluetoothDataManager.kt          ‚Üê –ú–µ–Ω–µ–¥–∂–µ—Ä Bluetooth
‚îÇ   ‚îî‚îÄ‚îÄ ClientPagerAdapter.kt            ‚Üê –ê–¥–∞–ø—Ç–µ—Ä –≤–∫–ª–∞–¥–æ–∫
‚îî‚îÄ‚îÄ res/layout/
    ‚îú‚îÄ‚îÄ activity_main.xml                ‚Üê –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é
    ‚îú‚îÄ‚îÄ activity_server.xml              ‚Üê UI —Å–µ—Ä–≤–µ—Ä–∞
    ‚îú‚îÄ‚îÄ activity_client.xml              ‚Üê UI –∫–ª—ñ—î–Ω—Ç–∞
    ‚îú‚îÄ‚îÄ fragment_collector.xml           ‚Üê UI –∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö
    ‚îî‚îÄ‚îÄ fragment_prediction.xml          ‚Üê UI –ø—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è
```

---

## 1Ô∏è‚É£ –ü–Ü–î–ì–û–¢–û–í–ö–ê –°–ï–†–ï–î–û–í–ò–©–ê

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫ ML

**–§–∞–π–ª:** `app/build.gradle.kts`

- **–†—è–¥–∫–∏ 51-53:** TensorFlow Lite –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
- **–†—è–¥–∫–∏ 39-41:** `aaptOptions { noCompress("tflite") }` - –≤–∞–∂–ª–∏–≤–æ!

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è ML-–º–æ–¥–µ–ª—ñ

**–§–∞–π–ª:** `ActivityClassifier.kt`

- **–†—è–¥–∫–∏ 24-31:** –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Interpreter
- **–†—è–¥–∫–∏ 34-40:** –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è `model.tflite` –∑ assets
- **–†—è–¥–∫–∏ 22:** –°–ø–∏—Å–æ–∫ –∫–ª–∞—Å—ñ–≤: `["–ó–≥–∏–Ω–∞–Ω–Ω—è", "–ü—ñ–¥–Ω—è—Ç—Ç—è", "–†–æ–∑–≤–µ–¥–µ–Ω–Ω—è", "–û–±–µ—Ä—Ç–∞–Ω–Ω—è", "–°–ø–æ–∫—ñ–π"]`

### –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

**–§–∞–π–ª:** `fragment_prediction.xml`

- **–†—è–¥–∫–∏ 77-123:** CardView –∑ –ø—Ä–æ–≥–Ω–æ–∑–æ–º —Ç–∞ –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—é
- **–†—è–¥–∫–∏ 66-73:** ProgressBar –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—É –≤—ñ–∫–Ω–∞
- **–†—è–¥–∫–∏ 125-212:** –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —Å–µ–Ω—Å–æ—Ä—ñ–≤

---

## 2Ô∏è‚É£ –ó–ë–Ü–† –¢–ê –ü–Ü–î–ì–û–¢–û–í–ö–ê –î–ê–ù–ò–•

### –ú–æ–¥—É–ª—å –∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö –∑ —Å–µ–Ω—Å–æ—Ä—ñ–≤

**–§–∞–π–ª:** `ServerActivity.kt`

- **–†—è–¥–∫–∏ 51-53:** –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä–∞ —Ç–∞ –≥—ñ—Ä–æ—Å–∫–æ–ø–∞
- **–†—è–¥–∫–∏ 197-204:** `onSensorChanged()` - –æ–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö —Å–µ–Ω—Å–æ—Ä—ñ–≤
- **–†—è–¥–∫–∏ 264-268:** `onResume()` - —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Å–ª—É—Ö–∞—á—ñ–≤
- **–†—è–¥–∫–∏ 152-154:** –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö: `"ax,ay,az,gx,gy,gz"`
- **–†—è–¥–∫–∏ 140-149:** –¶–∏–∫–ª –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ (–∫–æ–∂–Ω—ñ 100 –º—Å = 10 –ì—Ü)

### –ü–æ–ø–µ—Ä–µ–¥–Ω—è –æ–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö

**–§–∞–π–ª:** `PredictionFragment.kt`

- **–†—è–¥–∫–∏ 91-100:** –ü–∞—Ä—Å–∏–Ω–≥ —Ä—è–¥–∫–∞ `"ax,ay,az,gx,gy,gz"`
- **–†—è–¥–∫–∏ 24-26:** Sliding Window: `WINDOW_SIZE = 20`, `STEP_SIZE = 10`
- **–†—è–¥–∫–∏ 106-130:** –ù–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —Ç–∞ –≤—ñ–∫–Ω—É–≤–∞–Ω–Ω—è

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∞—Ç–∞—Å–µ—Ç—É

**–§–∞–π–ª:** `CollectorActivity.kt` –∞–±–æ `CollectorFragment.kt`

- **–†—è–¥–∫–∏ 44-50:** –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è 5 –∫–ª–∞—Å—ñ–≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- **–†—è–¥–∫–∏ 350-355:** –ó–∞–ø–∏—Å —É —Ñ–æ—Ä–º–∞—Ç—ñ: `"ax,ay,az,gx,gy,gz,label"`
- **–†—è–¥–∫–∏ 371-392:** –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ CSV: `training_data_TIMESTAMP.csv`
- **–†—è–¥–∫–∏ 461-466:** –í–∏–±—ñ—Ä –∫–ª–∞—Å—É —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏

---

## 3Ô∏è‚É£ –Ü–ù–¢–ï–ì–†–ê–¶–Ü–Ø ML-–ú–û–î–ï–õ–Ü

### –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è .tflite –º–æ–¥–µ–ª—ñ

**–§–∞–π–ª:** `ActivityClassifier.kt`

- **–†—è–¥–∫–∏ 34-40:** `loadModelFile()` - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑ assets
- **–†—è–¥–∫–∏ 24-31:** `init {}` - —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Interpreter

### Inference (–≤–∏–≤–µ–¥–µ–Ω–Ω—è) —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ

**–§–∞–π–ª:** `ActivityClassifier.kt`

- **–†—è–¥–∫–∏ 43-76:** –ú–µ—Ç–æ–¥ `predict()` - –≥–æ–ª–æ–≤–Ω–∏–π inference
- **–†—è–¥–∫–∏ 47-56:** –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ ByteBuffer `[1, 20, 6]`
- **–†—è–¥–∫–∏ 58-63:** `interpreter.run()` - –∑–∞–ø—É—Å–∫ –º–æ–¥–µ–ª—ñ
- **–†—è–¥–∫–∏ 65-75:** –ü–æ—à—É–∫ –Ω–∞–π–±—ñ–ª—å—à–æ—ó –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—ñ —Ç–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –≤ %

**–§–∞–π–ª:** `PredictionFragment.kt`

- **–†—è–¥–∫–∏ 114-130:** –í–∏–∫–ª–∏–∫ `classifier.predict()` –∫–æ–∂–Ω—ñ 20 –∑–∞–º—ñ—Ä—ñ–≤
- **–†—è–¥–∫–∏ 125-129:** Sliding window (–≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø–µ—Ä—à–∏—Ö 10)

### –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –∑ –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—è–º–∏

**–§–∞–π–ª:** `PredictionFragment.kt`

- **–†—è–¥–∫–∏ 115-122:** –ü–∞—Ä—Å–∏–Ω–≥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É `"–ö–ª–∞—Å (XX%)"`
- **–†—è–¥–∫–∏ 118-119:** –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –Ω–∞–∑–≤–∏ —Ç–∞ –≤–ø–µ–≤–Ω–µ–Ω–æ—Å—Ç—ñ

**–§–∞–π–ª:** `ActivityClassifier.kt`

- **–†—è–¥–∫–∏ 78-94:** –ú–µ—Ç–æ–¥ `getProbabilities()` - –ø–æ–≤–µ—Ä—Ç–∞—î –≤—Å—ñ 5 –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç–µ–π

### –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è

**–§–∞–π–ª:** `fragment_prediction.xml`

- **–†—è–¥–∫–∏ 66-73:** ProgressBar - —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –≤—ñ–∫–Ω–∞
- **–†—è–¥–∫–∏ 77-123:** CardView –∑ –ø—Ä–æ–≥–Ω–æ–∑–æ–º (–∑–µ–ª–µ–Ω–∏–π —Ñ–æ–Ω)
- **–†—è–¥–∫–∏ 105-122:** TextView –¥–ª—è –Ω–∞–∑–≤–∏ —Ç–∞ –≤–ø–µ–≤–Ω–µ–Ω–æ—Å—Ç—ñ
- **–†—è–¥–∫–∏ 125-212:** –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä–∞ —Ç–∞ –≥—ñ—Ä–æ—Å–∫–æ–ø–∞

**–§–∞–π–ª:** `PredictionFragment.kt`

- **–†—è–¥–∫–∏ 108-111:** –û–Ω–æ–≤–ª–µ–Ω–Ω—è ProgressBar —Ç–∞ `tvWindowSize`

---

## 4Ô∏è‚É£ –¢–ï–°–¢–£–í–ê–ù–ù–Ø –¢–ê –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–Ø

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö

**–§–∞–π–ª:** `PredictionFragment.kt`

- **–†—è–¥–∫–∏ 72-74:** Callback `onDataReceived` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- **–†—è–¥–∫–∏ 114-130:** –û–±—Ä–æ–±–∫–∞ —Ç–∞ –ø—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ

### –í–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è —Ç–æ—á–Ω–æ—Å—Ç—ñ (accuracy)

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –í—ñ–∑—É–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–µ–∑ UI

- –ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ `tvPrediction` –∑ —Ä–µ–∞–ª—å–Ω–æ—é –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ `tvConfidence` (–≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å)

### –û—Ü—ñ–Ω–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

**–§–∞–π–ª:** `ActivityClassifier.kt`

- **–†—è–¥–æ–∫ 49:** `ByteBuffer.allocateDirect()` - –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø–∞–º'—è—Ç—ñ
- **–†—è–¥–æ–∫ 63:** `interpreter.run()` - —á–∞—Å —ñ–Ω—Ñ–µ—Ä–µ–Ω—Å—É (–Ω–µ –≤–∏–º—ñ—Ä—é—î—Ç—å—Å—è)

**–§–∞–π–ª:** `PredictionFragment.kt`

- **–†—è–¥–∫–∏ 125-129:** Sliding window - –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –æ–±—Ä–æ–±–∫–∏

**–§–∞–π–ª:** `ServerActivity.kt`

- **–†—è–¥–æ–∫ 144:** –ß–∞—Å—Ç–æ—Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏: 100 –º—Å = 10 –ì—Ü
- **–†—è–¥–æ–∫ 266:** `SENSOR_DELAY_GAME` ‚âà 20 –ì—Ü

---

## üîç –®–í–ò–î–ö–ò–ô –ü–û–®–£–ö –ü–û –ü–ò–¢–ê–ù–ù–Ø–•

### "–î–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –º–æ–¥–µ–ª—å?"

‚Üí `ActivityClassifier.kt`, —Ä—è–¥–∫–∏ 34-40 (`loadModelFile`)

### "–Ø–∫ –ø—Ä–∞—Ü—é—î inference?"

‚Üí `ActivityClassifier.kt`, —Ä—è–¥–∫–∏ 43-76 (`predict`)

### "–î–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏?"

‚Üí `PredictionFragment.kt`, —Ä—è–¥–∫–∏ 115-122 + `fragment_prediction.xml`, —Ä—è–¥–∫–∏ 105-122

### "–Ø–∫ —Ä–∞—Ö—É—î—Ç—å—Å—è –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å (confidence)?"

‚Üí `ActivityClassifier.kt`, —Ä—è–¥–∫–∏ 65-75 (–ø–æ—à—É–∫ max –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—ñ √ó 100)

### "–î–µ –∑–±–∏—Ä–∞—é—Ç—å—Å—è –¥–∞–Ω—ñ –∑ —Å–µ–Ω—Å–æ—Ä—ñ–≤?"

‚Üí `ServerActivity.kt`, —Ä—è–¥–∫–∏ 197-204 (`onSensorChanged`)

### "–Ø–∫ –ø—Ä–∞—Ü—é—î –∑–±—ñ—Ä –¥–∞—Ç–∞—Å–µ—Ç—É?"

‚Üí `CollectorActivity.kt` / `CollectorFragment.kt`, —Ä—è–¥–∫–∏ 350-392

### "–î–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤—ñ–∫–Ω—É–≤–∞–Ω–Ω—è (sliding window)?"

‚Üí `PredictionFragment.kt`, —Ä—è–¥–∫–∏ 24-26, 106-130

### "–Ø–∫ –ø—Ä–∞—Ü—é—î Bluetooth?"

‚Üí `ServerActivity.kt` (—Å–µ—Ä–≤–µ—Ä) + `BluetoothDataManager.kt` (–∫–ª—ñ—î–Ω—Ç)

### "–î–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ TensorFlow?"

‚Üí `app/build.gradle.kts`, —Ä—è–¥–∫–∏ 51-53

### "–î–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –º–æ–¥–µ–ª—å?"

‚Üí `app/src/main/assets/model.tflite`

---

## üìä –ü–ê–†–ê–ú–ï–¢–†–ò –ú–û–î–ï–õ–Ü

**–§–∞–π–ª:** `ActivityClassifier.kt`, —Ä—è–¥–∫–∏ 15-19

- `WINDOW_SIZE = 20` - —Ä–æ–∑–º—ñ—Ä –≤—ñ–∫–Ω–∞ (20 –∑–∞–º—ñ—Ä—ñ–≤)
- `NUM_SENSORS = 6` - –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä (3) + –≥—ñ—Ä–æ—Å–∫–æ–ø (3)
- `NUM_CLASSES = 5` - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–ª–∞—Å—ñ–≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- `FLOAT_SIZE = 4` - —Ä–æ–∑–º—ñ—Ä float –≤ –±–∞–π—Ç–∞—Ö

**–§–æ—Ä–º–∞—Ç –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö:** `[1, 20, 6]` (–±–∞—Ç—á, –∑–∞–º—ñ—Ä–∏, —Å–µ–Ω—Å–æ—Ä–∏)
**–§–æ—Ä–º–∞—Ç –≤–∏—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö:** `[1, 5]` (–±–∞—Ç—á, –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—ñ –∫–ª–∞—Å—ñ–≤)

---

## üé® UI –ö–û–ú–ü–û–ù–ï–ù–¢–ò

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç    | ID             | –§–∞–π–ª                      | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è              |
| ------------ | -------------- | ------------------------- | ------------------------ |
| –°—Ç–∞—Ç—É—Å       | `tvStatus`     | `PredictionFragment.kt`   | –°—Ç–∞—Ç—É—Å –º–æ–¥–µ–ª—ñ/–∑'—î–¥–Ω–∞–Ω–Ω—è  |
| –ü—Ä–æ–≥–Ω–æ–∑      | `tvPrediction` | `PredictionFragment.kt`   | –ù–∞–∑–≤–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ         |
| –í–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å  | `tvConfidence` | `PredictionFragment.kt`   | –í—ñ–¥—Å–æ—Ç–æ–∫ –≤–ø–µ–≤–Ω–µ–Ω–æ—Å—Ç—ñ     |
| –ü—Ä–æ–≥—Ä–µ—Å      | `progressBar`  | `fragment_prediction.xml` | –ü—Ä–æ–≥—Ä–µ—Å –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –≤—ñ–∫–Ω–∞ |
| –†–æ–∑–º—ñ—Ä –≤—ñ–∫–Ω–∞ | `tvWindowSize` | `PredictionFragment.kt`   | "Window: X/20"           |
| –ê–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä | `tvAccel`      | `PredictionFragment.kt`   | ax, ay, az               |
| –ì—ñ—Ä–æ—Å–∫–æ–ø     | `tvGyro`       | `PredictionFragment.kt`   | gx, gy, gz               |

---

## üîß –û–°–ù–û–í–ù–Ü –ú–ï–¢–û–î–ò

### ActivityClassifier.kt

- `predict(dataWindow)` - –ø—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è, –ø–æ–≤–µ—Ä—Ç–∞—î "–ö–ª–∞—Å (XX%)"
- `getProbabilities(dataWindow)` - –ø–æ–≤–µ—Ä—Ç–∞—î –º–∞—Å–∏–≤ –∑ 5 –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç–µ–π
- `loadModelFile(context)` - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ –∑ assets

### PredictionFragment.kt

- `processData(rawString)` - –æ–±—Ä–æ–±–∫–∞ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö —Ç–∞ –ø—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è
- `checkPermissions()` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ–∑–≤–æ–ª—ñ–≤ Bluetooth

### ServerActivity.kt

- `onSensorChanged(event)` - –æ–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö —Å–µ–Ω—Å–æ—Ä—ñ–≤
- `sendData()` - –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ Bluetooth
- `startSendingLoop()` - —Ü–∏–∫–ª –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ (10 –ì—Ü)

---

## ‚ö° –®–í–ò–î–ö–Ü –§–ê–ö–¢–ò

- **–ú–æ–¥–µ–ª—å:** `model.tflite` –≤ `assets/`
- **–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞:** TensorFlow Lite 2.14.0
- **–ß–∞—Å—Ç–æ—Ç–∞ –¥–∞–Ω–∏—Ö:** 10 –ì—Ü (–∫–æ–∂–Ω—ñ 100 –º—Å)
- **–†–æ–∑–º—ñ—Ä –≤—ñ–∫–Ω–∞:** 20 –∑–∞–º—ñ—Ä—ñ–≤ (‚âà2 —Å–µ–∫—É–Ω–¥–∏)
- **–ö—Ä–æ–∫ –≤—ñ–∫–Ω–∞:** 10 –∑–∞–º—ñ—Ä—ñ–≤ (sliding window)
- **–ö–ª–∞—Å–∏:** 5 (–ó–≥–∏–Ω–∞–Ω–Ω—è, –ü—ñ–¥–Ω—è—Ç—Ç—è, –†–æ–∑–≤–µ–¥–µ–Ω–Ω—è, –û–±–µ—Ä—Ç–∞–Ω–Ω—è, –°–ø–æ–∫—ñ–π)
- **–°–µ–Ω—Å–æ—Ä–∏:** –ê–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä (ax,ay,az) + –ì—ñ—Ä–æ—Å–∫–æ–ø (gx,gy,gz)

---

## üö® –ß–ê–°–¢–Ü –ü–ò–¢–ê–ù–ù–Ø –í–ò–ö–õ–ê–î–ê–ß–ê

**Q: "–î–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –º–æ–¥–µ–ª—å?"**
A: `ActivityClassifier.kt`, –º–µ—Ç–æ–¥ `loadModelFile()`, —Ä—è–¥–∫–∏ 34-40

**Q: "–Ø–∫ –ø—Ä–∞—Ü—é—î inference?"**
A: `ActivityClassifier.kt`, –º–µ—Ç–æ–¥ `predict()`, —Ä—è–¥–∫–∏ 43-76. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ ByteBuffer ‚Üí `interpreter.run()` ‚Üí –ø–æ—à—É–∫ max –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—ñ

**Q: "–î–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å?"**
A: `PredictionFragment.kt`, —Ä—è–¥–∫–∏ 115-119. –†–æ–∑–±–∏–≤–∞—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç "–ö–ª–∞—Å (XX%)" —Ç–∞ –≤–∏–≤–æ–¥–∏–º–æ –≤ `tvConfidence`

**Q: "–Ø–∫ –ø—Ä–∞—Ü—é—î –≤—ñ–∫–Ω—É–≤–∞–Ω–Ω—è?"**
A: `PredictionFragment.kt`, —Ä—è–¥–∫–∏ 125-129. –ü—ñ—Å–ª—è –ø—Ä–æ–≥–Ω–æ–∑—É –≤–∏–¥–∞–ª—è—î–º–æ –ø–µ—Ä—à—ñ 10 –∑–∞–º—ñ—Ä—ñ–≤, –∑–∞–ª–∏—à–∞—î–º–æ –æ—Å—Ç–∞–Ω–Ω—ñ 10

**Q: "–î–µ –∑–±–∏—Ä–∞—é—Ç—å—Å—è –¥–∞–Ω—ñ?"**
A: `ServerActivity.kt`, `onSensorChanged()`, —Ä—è–¥–∫–∏ 197-204. –î–∞–Ω—ñ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—é—Ç—å—Å—è —á–µ—Ä–µ–∑ Bluetooth –∫–æ–∂–Ω—ñ 100 –º—Å

**Q: "–Ø–∫ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –¥–∞—Ç–∞—Å–µ—Ç?"**
A: `CollectorActivity.kt` / `CollectorFragment.kt`, —Ä—è–¥–∫–∏ 350-392. –ó–∞–ø–∏—Å —É —Ñ–æ—Ä–º–∞—Ç—ñ CSV: `"ax,ay,az,gx,gy,gz,label"`

---

**üí° –ü–æ—Ä–∞–¥–∞:** –í—ñ–¥–∫—Ä–∏–π —Ü–µ–π —Ñ–∞–π–ª –ø–æ—Ä—É—á –∑ Android Studio, —â–æ–± —à–≤–∏–¥–∫–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –º—ñ—Å—Ü—è –≤ –∫–æ–¥—ñ!
